# Инструкция по работе с git

## Что это и для чего нужна система контроля версий?
Git — это специальная программа, которая позволяет отслеживать любые изменения в файлах, хранить их версии и оперативно возвращаться в любое сохранённое состояние.

### Что такое система контроля версий?
Система контроля версий — это система, записывающая изменения в файл или набор файлов в течение времени и позволяющая вернуться позже к определённой версии. Для контроля версий файлов в этой книге в качестве примера будет использоваться исходный код программного обеспечения, хотя на самом деле вы можете использовать контроль версий практически для любых типов файлов.

### Для чего нужна система контроля версий
Программное обеспечение контроля версий отслеживает все вносимые в код изменения в специальной базе данных. При обнаружении ошибки разработчики могут вернуться назад и выполнить сравнение с более ранними версиями кода для исправления ошибок, сводя к минимуму проблемы для всех участников команды.

## Установка git и VSCode на ваш ПК.

### Установка VSCode на ваш ПК.
1. Установка в Windows
2. Скачать установщик.
3. Открыть загрузки и найти скачанный файл.
4. Запустить двойным кликом VSCodeUserSetup-{version}.exe.
5. По умолчанию приложение появится в папке Programs\Microsoft\VS Code.

### Установка git на ваш ПК
1. В первую очередь, необходимо зайти на официальный сайт компании во вкладку «Downloads for Windows». Здесь пользователю будет предложено несколько способов установки:
- Установка последней поддерживаемой сборки;
- Автономный установщик для разной разрядности системы;
- Портативная версия для флеш-накопителя;
- Установка из исходного кода.

2. В открывшемся окне установщика вас встретит общая публичная лицензия на софт. Здесь ничего делать не нужно, просто нажимаем кнопку «Next».
3. Далее необходимо выбрать директорию, куда будет установлен Git. Для этого нажимаем на кнопку «Browse…» и указываем путь. 
Для актуальной версии на момент написания статья вам потребуется не менее 321,5 мегабайт свободного места на диске.
4. В следующем окне будет происходить выбор компонентов, которые будут установлены на устройство. Например, вы можете выбрать Git Bash для установки в Windows. 
5. После выбора компонентов, программа установки предлагает создать ярлыки для устанавливаемого ПО в соответствующей папке в меню «Пуск». В строке ввода указывается имя этой папки. Чтобы пропустить этот необязательный этап, установите флажок рядом с надписью «Don’t create a Start Menu folder».
6. В следующем установочном окне пользователю необходимо выбрать текстовый редактор, который в дальнейшем будет использоваться по умолчанию в системе. На выбор ему будет предложено несколько решений:
- Vim (рекомендован установщиком);
- Notepad / Notepad ++;
- Nano;
- VSC / VSC Insiders;
- Sublime Text;
- Atom;
- VSCodium.

7. Далее пользователю предстоит указать название начальной ветки в новых репозиториях. На момент написания инструкции, система предлагает имя master, но обещает поменять его на более универсальное в ближайшем будущем. Можно выбрать вариант, предлагаемый системой, либо указать свой собственный. Мы выберем первый вариант.
8. Следующим шагом пользователю необходимо выполнить настройку способа использования Git. 
9. Далее необходимо выбрать SSH-клиент из двух предложенных вариантов. Это будет либо встроенный OpenSSH, либо внешний. По умолчанию, Git использует встроенный SSH-клиент, который называется ssh.exe. Если вы хотите использовать внешний, вам нужно установить его отдельно.
10. Следующим шагом пользователю необходимо выбрать SSL/TLS-библиотеку, которую Git будет использовать для HTTPS-подключений. По умолчанию установщик предлагает выбрать библиотеку OpenSSL. Такой вариант подойдет обычным пользователям. Но если вы работаете внутри компании, которая использует свои сертификаты, выбирайте второй вариант.
11. После установщик предлагает пользователю настроить обработку окончания строк в текстовых файлах. Она бывает двух видов: для UNIX-систем — LF, а для Windows — CRLF. В предложенных вариантах обработки, checkout — это операция в Git, которая позволяет выбрать определенную ветку или коммит для работы, а commit — это операция для сохранения изменений в репозитории.
12. Далее, пользователь выбирает один из предложенных эмуляторов терминала для Git Bash. Лучшим вариантом будет MinTTY, предложенный установщиком по умолчанию. Выбираем его и переходим к следующему шагу.
13. Теперь, пользователь должен выбрать поведение для команды git pull. Рекомендуется оставить вариант по умолчанию. Он подразумевает стандартное поведение для команды.
14. Одним из заключительных шагов является выбор помощника по учетным данным. Git Credential Manager хранит пароли и другие личные данные для подключение к удаленным репозиториям. Чтобы не вводить их постоянно, выбираем его и нажимаем кнопку «Next».
15. На предпоследнем шаге пользователь настраивает дополнительные параметры. Здесь он может включить кэширование файловой системы и символические ссылки. Рекомендуется оставить эти настройки по умолчанию, оставив только первый параметр.

#### Первая настройка git
Чтобы начать работу с Git, необходимо произвести его первоначальную настройку. Как и в Ubuntu, она заключается в выполнение двух команд, которые задают имя пользователя и его электронную почту.

Открываем установленное приложение Git Bash и вводим в консоль следующую команду:
git config --global user.name "ExampleTestUser"
Не забудьте вместо ExampleTestUser написать свое имя.

После привяжем к пользователю его электронный адрес:
git config --global user.email "ExampleEmail"
Так же, как и с именем, не забудьте подставить вместо ExampleEmail свою электронную почту.

После проведенных настроек Git готов к работе. Теперь вы можете переходить к созданию репозитория и выполнению своего первого коммита.

## Создание и базовая работа с локальным репозиторием.

### Что такое репозиторий и инструкция по созданию локальных репозиториев.

Репозиторий – это хранилище, где содержатся данные. Его можно представить как каталог информации с файлами, локальный или расположенный на каком-либо ресурсе. Часто репозитории рассчитаны на распространение файлов по сети.

Обычно вы получаете репозиторий Git одним из двух способов:
- Вы можете взять локальный каталог, который в настоящее время не находится под версионным контролем, и превратить его в репозиторий Git, либо
- Вы можете клонировать существующий репозиторий Git из любого места.

Если у вас уже есть проект в каталоге, который не находится под версионным контролем Git, то для начала нужно перейти в него. Если вы не делали этого раньше, то для разных операционных систем это выглядит по-разному:

для Linux:
$ cd /home/user/my_project
для macOS:
$ cd /Users/user/my_project
для Windows:
$ cd C:/Users/user/my_project
а затем выполните команду:

$ git init - Эта команда создаёт в текущем каталоге новый подкаталог с именем .git, содержащий все необходимые файлы репозитория — структуру Git репозитория. На этом этапе ваш проект ещё не находится под версионным контролем. Подробное описание файлов, содержащихся в только что созданном вами каталоге .git, приведено в главе Git изнутри

Если вы хотите добавить под версионный контроль существующие файлы (в отличие от пустого каталога), вам стоит добавить их в индекс и осуществить первый коммит изменений. Добиться этого вы сможете запустив команду git add несколько раз, указав индексируемые файлы, а затем выполнив git commit:

$ git add *.c
$ git add LICENSE
$ git commit -m 'Initial project version'
Теперь у вас есть Git-репозиторий с отслеживаемыми файлами и начальным коммитом.

### Базовая работа с локальным репозиторием

## Ветки. Локальная работа с ветками в git.

### Что такое ветки и для чего они нужны при работе с системой контроля версий.

Почти каждая система контроля версий в той или иной форме поддерживает ветвление. Используя ветвление, Вы отклоняетесь от основной линии разработки и продолжаете работу независимо от неё, не вмешиваясь в основную линию. Во многих системах контроля версий создание веток — это очень затратный процесс, часто требующий создания новой копии каталога с исходным кодом, что может занять много времени для большого проекта.

### Базовая работа с ветками в git.
Допустим вы хотите создать новую ветку с именем testing. Вы можете это сделать командой git branch :
$ git branch testing

Имейте ввиду, что в Git концепция HEAD значительно отличается от других систем контроля версий, которые вы могли использовать раньше (Subversion или CVS). В Git — это указатель на текущую локальную ветку. В нашем случае мы всё ещё находимся в ветке master. Команда git branch только создаёт новую ветку, но не переключает на неё.

Для переключения на существующую ветку выполните команду git checkout. Давайте переключимся на ветку testing:
$ git checkout testing

Интересная ситуация: указатель на ветку testing переместился вперёд, а master указывает на тот же коммит, где вы были до переключения веток командой git checkout. Давайте переключимся назад на ветку master:

$ git checkout master

## Работа с удаленными репозиториями.

### Что такое удаленный репозиторий и для чего он нужен
Удаленный репозиторий размещается на удаленном компьютере (в Интернете или на внешнем сервере; это может быть даже тот же компьютер, но по другому пути) и используется несколькими членами команды.

### Базовая работа с удаленными репозиториями GitHub
Создадим новый репозиторий на GitHub. Для этого на сайте GitHub кликните на значок плюса справа сверху или перейдите по ссылке. 
После нажатия Create repository нас перекинет на страницу нашего нового репозитория. 

Добавление удаленного репозитория. Команда git remote add origin
Чтобы добавить удаленный репозиторий и присвоить ему название, которое используется для удобства как сокращение адреса, просто выполните команду

git remote add origin <URL>
По умолчанию удаленный репозиторий называется origin, о чем было сказано ранее, но можно присваивать любое название.

Ссылочные объекты у подключаемого удаленного репозитория будут скопированы.

Подключение по HTTPS

git remote add origin https://github.com/ИМЯПОЛЬЗОВАТЕЛЯ/РЕПОЗИТОРИЙ.git
С помощью https будет проще работать на нескольких устройствах нежели с перемещением ssh ключей между ними. А порт 443, который используется данным протоколом, обычно открыт. Но для работы с этим способом подключения может понадобиться введения логина и пароля, например, при клонировании приватного репозитория.

Для того чтобы просмотреть список названий удаленных репозиториев, которые были добавлены, используйте команду:
git remote
Указав ключ -v, можно просмотреть, какие адреса в добавленных удаленных репозиториях используются для чтения и записи.

Полный список удаленных ссылок можно получить с помощью команды:
git ls-remote <remote> 

Либо для получения удаленных веток и дополнительной информации используйте команду:
git remote show <remote> 
<remote> — название удаленного репозитория, которое ему дали после подключения. Можно использовать и url интересующего удаленного репозитория.

Чтобы отправить изменения (имя ветки) <branch-name> на сервер <remote-name>, задействуйте команду:
git push <remote-name> <branch-name>

Если ветка, которую вы хотите отправить, не отслеживается, то добавьте флаг —set-upstream. На примере ветки develop это будет выглядеть вот так:
git push --set-upstream origin develop

В GitHub же есть кнопка (Add file) для загрузки или создания файлов прямо в удаленном репозитории.
Так же возможно переименование удаленного репозитория с прежнего имени <old-name> на новое <new-name>.
git remote rename <old-name> <new-name>

Для связи с указанным удаленным репозиторием используется следующая команда, которая подтянет новые изменения на локальный репозиторий:
git fetch [remote-name]

Если ветка настроена на отслеживание удаленной ветки, то можно использовать более удобную команду:
git pull 

Данная команда заменяет прописывание двух команд:
git fetch; git merge

Есть и универсальнее способ: клонирование репозитория. Клонирование копирует все файлы и коммиты удаленного репозитория, после чего уже можно использовать предыдущую команду — git fetch, если понадобятся новые изменения из удаленного репозитория.

git clone [url]
Клонирование может быть по HTTPS, либо по SSH. Рассмотрим каждый вариант.

Для клонирования определенной ветки репозитория, допишите флаг —single-branch:
git clone --single-branch [url]
После работы git clone отслеживание удаленный ветки ставится автоматически.

Если же при клонировании вы хотите другое название (не origin) удаленному репозиторию, то выполните:
git clone -o ticgit
Тогда по умолчанию ветка слежения будет иметь вид ticgit/master (tcgit — пример названия удаленного репозитория).

Работа git clone пошагово выглядит так:
Создается новая директория.
В ней создается репозиторий посредством выполнения git init.
Выполняется команда git remote add origin, которая добавляет по URL (назван origin) удаленный репозиторий.
Подхватываются новые изменения данного удаленного репозитория через git fetch.
С помощью git checkout извлекается последний коммит в рабочую директорию.


## Совместная работа над проектом (fork, pull request)

### Как строится и для чего нужна совместная работа в системах контроля версий

Независимо от того, какую систему контроля версий вы используете и как она называется, основные ее преимущества заключаются в следующем.

1. Полная история изменений каждого файла за длительный период. Это касается всех изменений, внесенных огромным количеством людей за долгие годы. Изменением считается создание и удаление файлов, а также редактирование их содержимого. Различные инструменты VCS отличаются тем, насколько хорошо они обрабатывают операции переименования и перемещения файлов. В историю также должны входить сведения об авторе, дата и комментарий с описанием цели каждого изменения. Наличие полной истории позволяет возвращаться к предыдущим версиям, чтобы проводить анализ основных причин возникновения ошибок и устранять проблемы в старых версиях программного обеспечения. Если над программным обеспечением ведется активная работа, то «старой версией» можно считать почти весь код этого ПО.

2. Ветвление и слияние. Эти возможности полезны не только при одновременной работе участников команды: отдельные сотрудники также могут пользоваться ими, занимаясь несколькими независимыми направлениями. Создание «веток» в инструментах VCS позволяет иметь несколько независимых друг от друга направлений разработки, а также выполнять их слияние, чтобы инженеры могли проверить, что изменения, внесенные в каждую из веток, не конфликтуют друг с другом. Многие команды разработчиков ПО создают отдельные ветки для каждой функциональной возможности, для каждого релиза либо и для того, и для другого. Имея множество различных рабочих процессов, команды могут выбирать подходящий для них способ ветвления и слияния в VCS.

3. Отслеживаемость. Возможность отслеживать каждое изменение, внесенное в программное обеспечение, и связывать его с ПО для управления проектами и отслеживания багов, например Jira, а также оставлять к каждому изменению комментарий с описанием цели и назначения изменения может помочь не только при анализе основных причин возникновения ошибок, но и при других операциях по исследованию. История с комментариями во время чтения кода помогает понять, для чего этот код нужен и почему он структурирован именно так. Благодаря этому разработчики могут вносить корректные и совместимые изменения в соответствии с долгосрочным планом разработки системы. Это особенно важно для эффективной работы с унаследованным кодом, поскольку дает специалистам возможность точнее оценить объем дальнейших задач.

Разрабатывать программное обеспечение можно и без управления версиями, но такой подход подвергает проект огромному риску, и ни одна профессиональная команда не порекомендует применять его. Таким образом, вопрос заключается не в том, использовать ли управление версиями, а в том, какую систему управления версиями выбрать.

### Инструкция по созданию pull request

git clone https://github.com/slaveeks/rgen
Локальный, скачанный, репозиторий имеет одну привязку к удалённому репозиторию, названную origin, которая указывает копию на GitHub, а не на оригинальный.

Downstream, то есть склонированный репозиторий, должен быть условно  курсе изменений происходящих в оригинальном репозитории, то есть в upstream. Так как разработка там продолжается. Таким образом, необходимо получить изменения (fetch) от upstream и применить к своему origin репозиторию, чтобы не было конфликтов.

Поэтому нужно создать привязку к изначальному репозиторию, чтобы проделать то, о чем сказано выше, и назвать ее любым именем, в этом примере она названа upstream, но это название обязательным не является:

git remote add upstream git://github.com/nOstr/rgen.git
git fetch upstream
После этого рекомендуется создать новую ветку и вносить изменения туда.

git checkout -b feature
Далее нужно внести изменения в сам проект при помощи коммитов.
git add .
git commit -m "My commit"

После этого небходимо отправить изменения в копию репозитория на Github.
git push origin feature

Теперь изменения находятся в копии репозитория на GitHub в ветке feature.

Далее нужно зайти на страницу копии репозитория и нажимать на кнопку "Compare & Pull Request".

Далее открывается предпросмотровая страница, на которой можно ввести название и описание изменений.

После проверки изменений нужно нажать на кнопку "Create pull request".

Далее открывается страница с Pull Request, где можно посмотреть информацию об изменениях, его состоянии, также его можно прокомментировать или закрыть.

Также на странице изначального репозитория можно перейти на вкладку "Pull requstes" и увидеть все запросы на внесение изменений.

## Книги и полезные ссылки по изучению git.

[Игрушка для обучения](https://learngitbranching.js.org/?locale=ru_RU) 

[Книга полезная 1](https://git-scm.com/book/ru/v2) 

[Волшебство git](http://www-cs-students.stanford.edu/~blynn/gitmagic/intl/ru/) 

[Простое руководство по работе с Git ](https://rogerdudler.github.io/git-guide/index.ru.html) 


## Альтернативные системы контроля версий.

| Программное обеспечение  | Архитектура сети  | Разрешение конфликтов | Статус разработки | Поддержка Bitbucket |
| :------------------------| -----------------:|:---------------------:|:-----------------:|:-------------------:|
| Git                      | РАСПРЕДЕЛЕННАЯ	   | Слияние	           | Активный	       | Да |
| Mercurial                | РАСПРЕДЕЛЕННАЯ	   | Слияние	           | Активный	       | Да |
| SVN                      | Клиент-сервер 	   | Слияние или блокировка| Активный	       | Нет |
| CVS                      | Клиент-сервер	   | Слияние	           | Только техн обсл  | Нет |



# Синтаксис языка Markdown
По юлату довим сюда описание работы с Markdown.
Начинаем наше знакомство с контролем версий (=

## Работа с текстом

Пример <sub>подстрочного текста!</sub>

Поимер <sup>надстрочного текста!</sup>

&#8220; кодировки для двойных ковычек &#8221;

&#8217; кодировки для одиарных ковычек &#8216;

> Блоки цитирования создаются с помощью символа >:

>> Обычно он отображается с отступом и имеет другой цвет фона.

<!--- Этот комент тут тк оповещения почему то красиво не отображаются )= --->
[!WARNING] Чтобы создать новый параграф, оставьте пустую строку между двумя строками текста.

Выделяют заголовки — # в начале строки.

Показать уровень заголовка — подчеркивание знаками = или ****

## Выделение текста

Что бы выделить текст курсивом добавить * вначале и в конце слова:
 *Курсив.*

Что бы выделить текст полужирным добавить ** вначале и в конце слова:
 **Полужирным.**

Что бы выделить текст полужирным добавить *** вначале и в конце слова:
 ***Полужирным + курсив.***

Что бы зачеркнуть текст надо добавить  ~~ вначале и в конце слова:
 ~~Зачеркнутый~~

Что бы зачеркнуть текст надо добавить  "u" вначале и в конце слова:
<u>Подчёркнутый текст</u>

## Списки

### Ненумерованные Списки — обозначаются *знаками в начале строки. 

* элемент 1
* элемент 2
* элемент 3

### Нумерованные Списки — обозначаются обычными цифрами 1, 2, 3.

1. Пункт первый
2. Пункт второй
3. Пункт третий
   1. Вложенные Списки — выполняем отступы
      1. Еще один
      2. и еще
4. Пункт четвертый
    - Подпункт первый
    - Подпункт второй
5. Пункт пятый

## Таблица

| Занятие              | День недели  | Оценка      |
| :------------------- | ------------:|:-----------:|
| первое               |понедельник   | зачет       |
| второе               | четверг      | зачет       |
| третье               | суббота      | не зачет    |

## Блок кода


``` псевдокод
//Найти среднее арифметическое среди всех элементов массива [2, 5,13, 7, 6, 4]
numbers = [2, 5, 13, 7, 6, 4]
size = 6
sum = 0
avg = 0
index = 0

while index < size do
    sum = sum + numbers[index]
    index = index + 1
    
avg = sum / size
print(avg)
```


## Картинка

Изображения в Markdown оформляются по принципу, схожему с принципом оформления ссылкок, только перед квадратными скобками нужно поставить восклицательный знак: ![текст](путь к изображению). Здесь также можно сделать всплывающую подсказку.

### Изображение из ссылки 
![Изображение](https://upload.wikimedia.org/wikipedia/commons/thumb/4/48/Markdown-mark.svg/1920px-Markdown-mark.svg.png "Логотип Markdown")

### Изображение из папки
![Текст с описанием картинки](/hi.jpg)

## Ссылки

Чтобы создать встроенную ссылку, заключите ее текст в квадратные скобки [ ], а затем заключите URL-адрес в обычные скобки ( ).

<https://gb.ru/lessons/459299/homework>

[GeekBrains](https://gb.ru/lessons/459299/homework) без подсказки

[GeekBrains](https://gb.ru/lessons/459299/homework "Всплывающая подсказка") с подсказкой

### Справочным метод для ссылок
Он работает как сноски в книгах: [текст][имя сноски]. При таком способе организации ссылок в конце документа нужно также написать и оформить саму сноску: [имя сноски]: ссылка. После ссылки можно добавить подсказку. Выглядят и работают точно так же, как и в предыдущем способе. Сами сноски в отформатированном документе не отображаются.

[GeekBrains][1]

[1]: https://gb.ru/lessons/459299/homework "Всплывающая подсказка"